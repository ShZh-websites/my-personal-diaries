---
keyword: "回忆"
title: "我的大学：大四"
date: "2022-06-30"
desc: "我总感觉我要比别人早熟一点，在大四伊始我就想明白了：在这一年里，你做的什么事情都可能是最后一次做了。所以我一直在有意无意收集我在武大的各种回忆。"
---

# 保研

谈到保研这个话题的时候，我并没有多少发言权，因为我当时并没有参加保研。我们学校保研主要看三个指标：GPA、竞赛和科研。我虽然有一点竞赛，但是我无科研，GPA也只能排本专业的50%左右（当时的GPA是3.69），理论上来讲是保不了研的。戏剧的是我们那一届出现了**滑档**，简单来说就是有一些本来能保上的同学**被劝退了**，结果就是GPA 3.62的人都能裸保（所谓裸保就是单靠GPA，0科研0竞赛的保研形式）。

我周围确实有很多人劝我试一试，因为申请保研并不需要很多的时间成本，但是我最终还是没去。听到滑档的消息，我竟然还有一点高兴，第一是我可以向外人吹逼说我当初是主动放弃保研资格的，第二是就算我真的去了，排名也是在末尾，这种一般只能在留在本校了，而我是绝对不愿意在本校读研的。

但是要说遗憾，那确实有一点。我的遗憾就是GPA不够高，不能参加别的学校的夏令营，在我心中，参加别的学校的夏令营是一个非常好的~~旅游~~、增长见识、以及和优秀的同学交往的机会。近几年因为疫情的原因，不少学校的夏令营都改成线上了，所以其实也没有那么遗憾。再次声明，没参加本校保研我**一点都不后悔**，我只是遗憾没能参加其他学校的夏令营。



# 我的选择

对于大部分同学而言，大四实际上是非常繁忙的，要准备考研、保研、实习、出国，但是我的大四却比较空闲，下面说说为什么。

首先我决定了未来去学体系结构，原因如下：

- 当时我基本上能随心所欲写前后端项目了，同时对底层的原理产生了非常旺盛的求知欲；
- 我内心还是更希望读个研，给学历升个值，但是研究生是没有人研究Vue、Spring这种框架的，所以得把目光更加学术的领域上。

彼时上交的迟先生上了一回知乎热搜，我看他的简历发现他是从事数据库方向的，进而了解到数据库是当下系统中最火热的领域，当时就萌生了学数据库的想法。所以说虽然我和迟先生互相不认识，但是确实是他地把我领进了数据库的大门。我本科期间最后一门课——大型软件设计，结课的时候要交大作业，我就把之前写过的B+树扩展成一个不支持并发的、极其简陋的单机型数据库交了上去。

在想明白了这点后，我们来看看可以选择的这几条路：

- 保研：能保但没有保，上文已经详细阐述过了；
- 出国：出国其实是最佳选择，但是刚入学的时候我觉得这东西离我还比较遥远，所以也没去准备什么托福雅思的考试，所以这条路不太行的通；
- 考研：老实说我觉得我们学院的课程安排并不适合考研。很多同学考研都是从大三下学期开始的，但是我们大三下排满了课，同时大四上学期也有一门要交大作业的课程，除此之外还有一堆杂事。虽然我觉得当时一起考了，也很有机会，但是凭我当时对体系结构的认识，恐怕还不足以担得起清北研究生这个头衔；
- 实习：我不去实习的原因也比较复杂，总结一下有这三点：
  - 想实习也太晚了，如果是暑假实习，那就要在大三下投简历，如果是大四上实习，那就要在暑假投简历。那时已经是大四上了，各个厂差不多都没HC了；
  - 实习是有门槛的，当时我对体系结构的认识依然停留在本科课程上，和其他人比没有优势，还真不一定能过；如果去Web相关岗位，过是能过，但是浪费我复习体系结构的时间；
  - 我自己对实习的认识是，人尽量要去自己找工作时进不去的公司实习。虽然大家都很推崇国内如BAT和字节这些大厂或独角兽，但我对这些企业其实没什么感觉。

综上所述我决定沉淀一年，也就是gap一年考研。

所以我大四基本上没什么事情要干了，在上学期的末尾我甚至直接回家了。即便如此要干的事情和要补充的知识依然是非常多，那段时间我学的东西也很杂，从APUE到PLT，有点无头苍蝇乱撞的感觉。那段时间也有一些产出，ShZh-library、ShZh-playground和ShZh-website（以及这些org下的各种项目，比如我的个人主页）都是在那个时期诞生的。



# 毕业设计

## 写在前面

我从入学以来就非常重视毕业设计，私以为毕业设计是对本科四年的总结，绝不能敷衍了事。而我的本科生涯，非常坚决地贯彻了我入学时定下的目标，那就是广泛地学习。我这些年的学习可以概括为：大一打基础~~（享受大学生活）~~，大二学人工智能，大三学习Web，大四学习系统，所以我最终的毕设是一个横跨AI、Web和Arch的综合性项目。

具体的题目其实我从大三开始就开始构思了，那时的想法和现在的大同小异，也是希望题目能尽可能地覆盖自己所学的领域。当时在网上冲浪的时候发现了一个叫做ncnn的项目，ncnn是一个神经网络的推理引擎，推理引擎在功能上可以看成是阉割版的神经网络框架，只有推理（前向传播）部分而没有训练（反向传播）功能。大家都知道传统神经网络由各种层（layer）构成，现代神经网络把层的概念进一步扩展为算子(operand)，所谓算子不过是针对数据的各种操作，比如最简单的Abs算子就是给数组中的每个元素取绝对值，复杂点的比如Conv算子最后就是矩阵乘法，推理引擎在实现上述这些算子之后还要尽可能地提高性能。所以说推理引擎其实只是包了一层AI的皮，本质上还是在写一个高性能的数学库。

推理引擎这种跨AI和HPC的项目非常符合我的口味，而ncnn项目对于我这种初学者也很友好：

- ncnn项目结构扁平，没有非常深的目录嵌套，每个目录对应着不同架构的实现，目录下的文件的内容和算子的实现一一对应；
- ncnn的代码简单易懂，一般高性能计算项目不会使用太复杂的设计模式，毕竟这种不必要的抽象往往会拖累性能；
- ncnn社区很友好，ncnn仓库在Github上共有20k+个star，生态也很强大，更重要的是它是由国人维护的，有什么问题都可以去QQ群里问。

当时还在网上看见了ncnn源码解析以及一个可以被视为是ncnn极简版实现的yolo部署工具，可以说是万事俱备只欠东风，于是就下决心写一个仿照ncnn的推理引擎了。不过那时还是比较naive，写这个项目的主要目的还是练手，通过这个项目学习高性能计算的各种优化技巧，所以选题方面也没有深入思考和调研，就决定复刻一个和ncnn一样的跨平台推理引擎。名字也是抄ncnn的，叫sznn。

## 开题阶段

转眼间就到了开题阶段，因为我的题目是自拟的，所以我必须要找一个老师帮忙开题，而不是像其他同学一样在毕设系统里选老师提供的题目。最终我选择了龚奕利老师，原因如下：

- 龚奕利老师是出现在我毕设系统选题首页的唯一一个做系统的老师，她提供的题目也有高性能计算相关的；
- 龚奕利老师是计算机巨著CSAPP的中文译者，专业性不必多说；
- 龚奕利老师还给卓工班上课，受到卓工班同学的一致好评，并被我卓工班的舍友强力推荐。

在选择老师的过程中还出现了一个比较有意思的事情，因为老师大都比较忙，所以无法及时回复我消息，为此我同时找了多个老师，某老师在明确自己没有名额的情况下追问我的选题，我寻思着既然没名额我也没必要告诉你，你这是不是有点套我idea的味道。还有的老师对自己的学生有强烈的保护愿望，我找她的时候她还有名额，但是我和她商量完之后她马上告诉我人已经满了，我再看选题系统的时候确实题目都被撤走了。相比之下龚奕利老师确实比较靠谱。

和龚奕利老师在商量之后我发现，虽然她确实有涉及高性能计算领域，但是对我的选题却不甚了解，不能给我技术上的帮助，只能帮我修改和润色文章。在后续和龚奕利老师语音通话的时候我也为一开始的轻率付出了代价，她问我：既然ncnn在现有的架构上已经做得非常好了，那么我的工作主要是干什么？言外之意就是要我创新，这时候我肯定不能说我写这个毕业设计纯粹是为了练手，所以我就糊弄地说ncnn在苹果的M1芯片上没有做深入的优化，我的毕设就可以做这个方向，她于是警告我说苹果的产品都是比较私有的，这个项目的难度可能会很大。

通话结束之后我仔细地斟酌了一下，ncnn这么庞大的社区，全球开发者每天都往仓库commit，我想要在现有的架构上超越ncnn不太现实；至于我糊弄老师的M1芯片，我也深入研究了一番，发现苹果有自研的CoreML神经网络框架，难道我用ARM汇编和Metal API实现的推理引擎还能超过人家自研的不成？毕竟苹果应用中AI的性能大家都是有目共睹的。于是我陷入了迷惘。

直到有一天，我发现我知乎上关注的一些前端大佬开始推WebGPU有关的内容，我进一步了解到WebGPU是一个相当新的东西，新到ncnn都没有支持它。这个时候我突然想到，为什么不做一个基于Web的推理引擎呢？CPU端主要依靠WebAssembly，GPU端主要依靠WebGPU；恰好WebAssembly也有崭新的SIMD和多线程标准；恰好当下最热门的系统级编程语言Rust完美支持WebAssembly；恰好我最擅长的是Web。这下一切都串起来了，我终于找到了对我而言最完美的毕业设计选题——面向Web的高性能深度学习推理引擎：一个横跨AI、Web和Arch的综合性项目。

## 摆烂阶段

在写完任务书和开题报告之后我就照常开始摆了，当然不是彻底的摆烂，而是暂时放下毕业设计的开发，去干别的事情去了。其实就是复习过去四年所学，大家都知道我的学习策略是BFS，而学的东西多了难免会忘记，解决方法就是交换到外存，说人话就是记笔记。主要把之前学过但是已经忘了的知识再捡起来看一遍，具体是这三件事情：复习数据库、背面经、补充HPC各种优化算法。

复习数据库主要是因为当时差不多把清华软院作为自己的目标院校了，而且我当时下定决心从事体系结构方向，清华软院体系结构方向大部分都是做数据库的，我认为到时候八成得去做数据库了，所以复习数据库相关的知识也是理所当然的。大四上学期的时候差不多把传统单机型数据库过了一遍（课程 + demo），在看了一些数据库开发者的实现之后，就去补充分布式的知识了；除此之外，还看了MySQL的视频和Redis的源码解析，之前我对这两个数据库的认知仅仅停留在怎么使用，底层原理也浮于几个面试题，这些事情做完后对MySQL和Redis有了一个更加系统的认识。

整理四年所学这个大家都可以理解，那背面经是怎么回事？我不是不选择就业吗？这个主要是当时正值春招，我有个同学在背了面经之后功力大增，~~虽然待他遗忘之后还是原形毕露了~~，于是我推断：背面经能在短时间内有效提升一个人的技术水平。大家都说背面经是在背八股，我不敢苟同，~~毕竟我又不面试~~，面经对我而言是有效的查漏补缺的方式，当我遇到生疏的知识点我就去看相应的文档和博客，背完一轮后我感觉对TLS、JVM和并发等知识点有了更深的理解。

之前我说过我要认真对待毕业论文，但是在开题报告之后我就转而做自己的事情了，你可能会问我摆的真的心安理得吗？其实也还好，哪个时间段该做什么事情其实我心里有数。在毕业论文ddl前两个月，我就开始逐渐把重心转移到毕设方向上了，具体的做法就是学习HPC。我按照我对HPC的理解，把SIMD、OpenMP、MPI和CUDA统统学了一遍，然后找了几篇有关GEMM优化的论文并进行复现，最后去知乎上关注了几个做编译优化的大佬看了些优化算法，就这样直到4月。

## 开发阶段

4月初的时候指导老师来催进度了，让我们发一下毕业设计的进展。我发现有些同学毕业论文都写写的七七八八了，而我不仅一个字都没写，毕业设计也仅仅停留在新建文件夹的状态，这个时候再不写就要延毕了，于是马上动手。

好在我的毕业设计难度并不大，它的性能优势主要来源自异构计算，说白了就是硬件提供的性能，硬件厂商和社区往往会提供相应的SDK给软件开发者使用，所以作为软件开发者，只需要合理地使用SDK就行了，更何况我的项目还有ncnn作为模板。首先是JavaScript实现，这一版几乎是ncnn.js，我把SqueezeNet作为我的样例模型，一开始只实现SqueezeNet中包含的算子，遇到不会的就看ncnn、onnxruntime和tfjs的实现，到最后我的JavaScript引擎就能推理SqueezeNet了，虽然JavaScript并不以性能出名，但是SqueezeNet模型比较轻量，所以即便是JavaScript也能在1s左右推理完毕。Debug的过程也比较简单，只要把每一层的结果打印出来对照着看就行，哪一层出了问题还是很明显的。在支持SqueezeNet之后我的推理引擎开始支持风格迁移，方法同上，比较幸运的是这个新模型的实现是bug-free的，当然这得益于我完备的单元测试：只要保证每一个算子的实现都没有bug，那么最终的模型推理也不会有bug。

然后就是WebAssembly后端，因为在之前已经有JavaScript后端保证正确性，所以只需要1:1复刻一个WebAssembly后端即可，虽然我在开发的时候借助这点没有什么的心智负担，但是在调试的时候却遇到了些困难，Rust编译生成的WebAssembly是不带源码信息的，一旦报错就只能对着字节码抓瞎，这浪费了我不少时间。在试过包括DWARF在内的几个方法后，我最终选择把backtrace直接用console.error打印出来；然而调试仅仅是第一座大山，我的WebAssembly后端原型（不包含SIMD和多线程）性能出奇的低，一个SqueezeNet需要上百秒才能跑完，比JavaScript后端慢了快100倍，我仔细读了读生成的WebAssembly，发现编译器连最基本的LICM都没做，~~原来是没开优化~~，在开了优化之后性能迅速比肩JavaScript后端，这还是我不开SIMD和多线程的情况下，这下我才感叹Rust编译器和v8引擎开发者的智慧。

接下来就是给WebAssembly后端加上SIMD和多线程了，和我上文所说的一样，通过引入相应的库，几乎可以无缝地把自己的后端从单线程迁移到多线程、从无SIMD迁移到有SIMD。使用SIMD可以同时操作4个32位浮点和2个64位浮点，最后的推理时长也下降了一半多，这个比较符合我的预期，毕竟SIMD寄存器切换也需要开销；但是多线程就比较诡异了，一开始我初始化了8个线程的线程池，性能仅仅提升了一倍，一些小模型上甚至仅有很微小的提升，看了眼CPU的占有率，这才明白是为什么：每个核的使用率仅仅提升了一点。换句话说多线程仅仅是雨露均沾地使用了多个核，相对于单核全负荷运行当然没有显著的性能提升，而且很可能会因为线程的同步和各种开销进一步拖累性能。这个结论不仅仅适用于单线程和多线程，其实对于较少数量的线程和较多数量的线程也同样适用。~~没想到我操作系统课上背得滚瓜烂熟的结论，在实操时竟然忘记了~~。

最后就是WebGPU，WebGPU有特有的着色器语言WGSL，在语法上类似于Rust版的Vulkan，当然我只需要用到它的计算功能，这一部分的写法又非常类似CUDA，每个~~核函数~~compute shader只需要专注于单一线程即可，这部分写起来我个人认为是最轻松愉快的，毕竟线程的管理全都交给GPU了；这个后端的性能提升也是非常明显的，之前不管是JavaScript后端还是WebAssembly后端都是基于CPU的，到这里终于脱胎换骨到GPU了。

任何事物都有两面性，我吃了WebGPU和WebAssembly新标准的红利，自然也要承受新标准生态不成熟的代价，具体来说就是我找不到合适的单元测试框架，像Jest这种单元测试框架是基于Node的，显然你不能指望Node支持WebGPU等新标准；而ruatwasm提供的wasm-bingen-test又有天然的缺陷，不支持多线程WebAssembly的测试。所以我想了一个workaround，就是在真实的浏览器里跑单元测试。虽然想法很简单，但是我还是很得意的，因为之前我搜遍互联网也没有找到对这些新标准的成熟测试方案，而我完全可以抽离出这些内容，造一个全新的、面向新标准的单元测试框架。只可惜它与我论文的主要脉络无关，也没有被我写进最终的毕业论文里。

## 答辩阶段

我答辩那天还是挺惊心动魄的，当然这跟我的拖延症也有很大的关系。

大家都知道答辩是要做PPT的，我当时的想法是PPT这东西随便做一做，老师都忙着低头看你论文，不会看你的PPT。然后演讲就看临场的发挥。于是我便每天做一点PPT，一直到答辩的前一天。光看我对PPT的态度其实没什么太大的毛病，但是我低估演讲的难度了：在答辩前一天演练时，我发现若是脱稿，我每一遍都会漏一些东西，每一遍讲的东西都不一样，这太窒息了。于是我赶紧在演讲者模式里把我想说的都记下来，但是无奈10分钟的内容还是有点多，在正式答辩前仅仅是写完了我想说的，但是还缺乏掐点的演练。

答辩那天，老师群发消息说在12点前把PPT发给她，直到12点后我才意识到这是要在老师的电脑上演示啊！虽然我的项目是基于Web浏览器的，而浏览器是天然跨平台的实现，理论上在老师的电脑上也能运行，但是由于我用了新的标准，不仅对浏览器的版本有要求，而且WebGPU还需要在Chrome Canary上才能运行，你觉得老师的电脑上会有这种开发者用的浏览器吗？于是我赶紧用QuickTime Player录个屏，发给舍友，让他转成MP4格式（QuickTime Player用的是苹果专用的MOV格式），然后拷到U盘里（M1没有USB接口，我手边也没扩展坞），这个时候已经1点了。注意我答辩是1点半集合，2点正式开始。

我们学校答辩不仅仅需要PPT，还需给每个答辩老师一份纸质的毕业论文，所以我在答辩之前还需要赶一趟打印店。这个时候拖延症的弊端就体现出来了，打印店里不仅有和我一样当天下午答辩的同学，还有明后几天答辩的同学在排队，在老板不紧不慢地打印完我的论文后，已经差不多1点半了，几乎到了集合的时间。这时候我又发现了一个致命的问题——我的论文格式崩坏了！许多图片出现了错位，图片和标题分到了不同页，甚至有的图片直接插在正文中，如果你用过word你一定知道我在说什么。PDF是各平台通用的，它不可能有毛病，所以必然是我Mac上专有的word导出成PDF的时候出现了问题，但是现在你让我打开word进行修改显然不现实，毕竟已经没有多少时间了。（BTW，我用word而不用Latex的原因仅仅是因为指导老师给模板的时候只给了word，而不是技术上的原因）

那天我还是迟到了几分钟。一开始我还抱有侥幸心理，认为稍微迟到几分钟无伤大雅，最多被老师批评几句，但是那天却偏偏中奖了。当我赶到答辩地点的时候，大门紧闭，空无一人，周围的老师也是一问三不知，QQ群里询问也没人回。坏了，我第一想法是人家可能临时改答辩地点了，可能因为在1点半的时候大伙都到了，所以没有在群里通知。于是我直接在整个院办里爬上爬下暴力搜索，当然这无疑是大海捞针，最终还是没找到。万幸的是，人家在2点正式答辩之前又回到了答辩教室，原来他们是从别的教室搬答辩用的设备，先到的学生去帮忙了。不过我还是给答辩老师留下了非常不好的印象，虽然我仅仅迟到了几分钟，但是在答辩老师眼中我是属于迟到半小时的。

我们组的情况也不容乐观，我个人把我们组称为死亡小组，答辩老师由是院长、蔡奶奶和贺老师组成（没错，我们指导老师不在）。这些老师中蔡奶奶是出了名的严格，至少我是没有听说过比蔡奶奶还会挑刺的老师。我们当时盛传一个词，那就是「踩雷」：本科生毕业设计基本做不出什么东西，许多老师对此也是心知肚明，所以在答辩时基本是睁一只眼闭一只眼，但是有些老师就口无遮拦，甚至让你二辩，遇到这种老师就是「踩雷」了。我深知我们这一组一定会「踩雷」，根据蔡奶奶的性格，她一定会挑几个来二辩，不管你做的怎么样。再来看看我们组的毕业设计选题，清一色的是做体系结构，做体系结构一般质量都不会太差，而我们组唯一一个做管理系统的二辩了，这印证了我的说法。他的管理系统还蹭了区块链的热度，再差也比其他直接把Spring、Vue这些框架名写在标题里的人好多了，但是现实是这帮人在他们组就能过，而我们组写管理系统的就得二辩。总结一下就是死亡小组 + 神仙打架。

除了本身就非常严格的蔡奶奶，我还给贺老师留下了非常不好的印象。答辩之前还要写一些文件，当时就剩我没写了，贺老师就紧急告诉我怎么写，但是当时整理场地的声音很嘈杂，她说话的语速也很快，这导致我听的不是很清楚。她讲完时我问她有些东西能不能再说一遍，当然她没有理我，那我只好狼狈地去询问其他人。另外我还要拷一个演示视频，没想到这么简单的事情竟然也碰壁了：答辩用的Dell笔记本只有一个USB口，还被鼠标给占用了，这意味着我插U盘的时候不能使用鼠标，那就用触控板呗，但当时用惯了Mac触控板的我早就忘了Dell触控板的使用方法。尝试了几次无果后，焦急的我只能叫其他同学来帮忙，这一过程浪费了很多时间，她也是在后面不停催促。我觉得这两件事情给她留下了非常不好的印象，所以在我答辩的时候她的态度也不是很好。

我在我们组是最后一个答辩的，基本上要到天黑了才能轮到我，在等待的过程中我一直在练习掐点演说。但是当我看了眼我不忍直视的毕业论文，我决定还是先溜出去重新打印。于是我迅速问了周围的人附近的打印店在哪里，然后飞奔去打印店调格式。到了打印店，我才发现事情比我预想中的还要糟糕，不仅图片错位了，引用也出现了问题。调了很长时间，都没有获得一个满意的结果，我最终只是把几处显眼的地方修改好了。回到院办，差点又把我吓个半死，答辩教室大门紧密，里面鸦雀无声，门也是怎么都拽不开。坏了，我心想，这答辩怕不是提前结束了，这下真的要延毕了。还好隔壁教室还有人在，我赶紧去问了问答辩是不是已经结束了，得到否定的答案后，这才松了一口气。其实就是人家答辩的时候把门关了，可能这个门的隔音效果比较好，让我误以为里面已经没人了，实际上答辩依然在如火如荼地进行。

轮到我答辩的时候差不多是5点多了，这个时间点老师提醒我们后面的同学尽可能压缩一下时间，他们还要去上课呢。你可以能明显地感受到答辩老师的不耐烦了。于是我又做了一个大胆的决定，那就是脱稿即兴发挥，这样我就不需要继续掐点练习了。到我时，我的语速特别快，遇到记得不是很清楚的也不管了，直接跳过，说了大概5分钟就结束了。在我演说的过程中，院长似乎对我的论文不满意，发出“啧”的声音搞我心态，而我也确实受到了这个的影响停了几秒钟。演说结束后各个老师给出的意见相当一致，无非是两点：第一是这个论文写得太像软件工程的文档了；第二就是之前的格式崩坏问题（她们可能并没有研究过我论文的方向，所以只能在格式上给出建议）。蔡奶奶更是直言不讳：太差了，重新写。然后语重心长地告诉我，不是她为难我们，是之前上头来抽查毕业论文的时候，有几篇没过，导致计院今年少了几个研究生指标，所以这次会很严格。最后院长走过场式地问了我一个问题，说我的这个项目和华为的MindSpore和百度的PaddlePaddle有什么区别（吐槽一下，虽然只问了我一个问题，但是我在后续写答辩记录的时候竟然要补充到三个问题），答辩就结束了。这个时候我感觉可能真的要二辩了，于是赶紧献殷情似的帮蔡奶奶整理教室。~~这可能是我最终没有二辩的原因吧~~。

### 其他看法

很多学生的水平从它的毕业设计就可见一斑，大部分人的毕设是能被我一眼看穿的。换句话说，看一眼你的题目我就知道你大概做了什么。有次我去其他寝室串门，偶然间瞥到了他们答辩小组的选题，我就跟我同学说，你们这个答辩小组的水平也太差了，不是管理系统就是AI落地，完全没有一个让我眼前一亮的题目。谁曾想就这种答辩小组中都有人成功当选优秀毕业论文，你可以想象本科毕设是有多水了。不过这也跟优秀毕业论文的评选有关，绝大部分学生都是功利的，GPA这种东西本身没什么用，但是它可以用来保研和评奖学金，所以大家都在卷GPA；但是优秀论文这东西是真的没用，很多写的不错的同学因为麻烦就没有去评比，所以这玩意儿基本上是你想评就能评。

还有一件有意思的事情，在我答辩之前有一个很优秀的同学，物理计算机双学位，成功保研到北大。他的题目是用RISC-V写AI加速器，说实话这个题目是有点问题的，因为RISC-V存在的意义是减少芯片设计时的重复劳动，而不是去做高性能计算。根据他的论文的内容，应该是用FPGA写AI加速器，这个答辩老师也提了。但题目倒不是最主要的，主要是他仅仅是支持了一个手写数字识别的网络，就被老师赞赏有加，而我实现了三种后端，同时支持ImageNet图像分类和mosaic风格迁移，工作量差不多是人家的三倍，评价却天差地别。原因我猜是老师只看论文的质量，而不是看你是否真的有一个项目。这也可以给后来的同学提个醒，不要以为项目写完了就稳了，论文才是重中之重。

回到我的毕业设计，如果要我给我的毕业设计打分的话，我会打90/100。这个毕设可以运行，但是不能在生产环境下使用，毕竟它还不完备，所以我不能像当初wjl一样把tianshou推送给量子位这种公众号。其实我本科一直都在写这样的项目，直到大四我依然没能写出一个能让世界上所有人都可以使用的框架。用这个有缺陷的毕业设计来为我不完美的四年本科盖棺定论，我觉得还莫名地合适。

写完毕设之后我又补充了一些AI DSA和推理引擎的知识，这坚定了我做体系结构的决心。彼时又恰逢师老党立和Lemon大佬就hlab项目的争论（关于hlab你可以认为是在Web上运行的Matlab），他们的争执让我明白了在Web上进行高性能计算是一件非常扯淡的事情，你看硬件厂商也不会用浏览器来评测自己硬件的性能。总之我一开始以为自己毕设的idea很新颖，但实际上则是非常烂俗，之所以没人积极适配新标准，纯粹是因为这个方向不可行。理解到这点后我放弃了进一步维护我毕设的想法。



# 毕业

答辩结束后等待大家的就是毕业了，许多同学在这一段时光内非常悠闲，但是我因为要准备考研，所以并没有选择放松，而是继续写了几个项目。第一个项目是一个日记小站，它是我在参考了几个博客后编写出来的一个极度简洁的网站，配合heti这个CSS类库效果非常惊艳，每篇文章看上去都像是艺术品。不出意外你就是在这个网站上看我的回忆。另一个项目是onebot机器人，我们学校Q群机器人的氛围很浓厚，光我们班里就有至少两个原CQ的开发者，我对他们的Q群机器人也是垂涎已久了。更加重要的是，这个机器人本质上是一个后端项目，譬如持久化各个群聊的内容就需要用到数据库；社交媒体订阅就需要单独的轮询模块；最后功能越来越多，模块之间的边界愈发清晰，就可以上微服务。到时候别人问我后端项目，我就可以把这个Q群机器人拿出来，这比什么电子商城、网上书店等等清新太多。

毕业季的各种活动，我也参加了不少，比如毕业合影、毕业典礼、毕业晚会和走红毯。走红毯实际上就是别的学校院里的拨穗环节，但是我们全校的拨穗都统一到毕业典礼了，所以只有红毯。我基本上是活动前找人吹逼，活动后找人合影，至于活动本身，各个院校之间其实没有太大的差别，我的感受也和其他人差不多，这里就不详讲了。我还要说一句，有些人我是主动找你去合影的，结果合完影了你照片不发我是几个意思😠 ？（哈哈，开玩笑，其实我觉得照片并没有那么重要）

聚餐的话我算是聚得比较少的，基本上只和新老舍友、几个亲密的同学吃过饭。我们班级的话是没有单独组织散伙饭的。毕竟所谓的班级实质上是行政班，是为了方便管理而生的，实际在上课的时候各个班之间是打散的，所以行政班内部没有那么强的凝聚力。更何况那时已经有部分同学提前离校了，不完整的散伙饭意义也不大。

最后说一下我的新舍友，说实话我和新舍友相处时间更长，但是感情上我个人认为是比不过旧舍友的。我和旧舍友之间就像是铁杆的兄弟，而新舍友似乎各有各的圈子。证据就是一些重要的日子我和旧舍友之间会一起过，但是新舍友都出去找别人过，另外新的舍友外出聚餐时也很少叫上我。即便如此，在我最后一个留宿的晚上，我还是流眼泪了。当我意识到这是将最后一次请求舍友帮助的时候，我说话的声音都变得哽咽。最后在13舍楼下分别的时候我也是强忍住泪水，希望我的新舍友们没有察觉到这点。我至今仍无法分辨这是对逝去时光的伤感还是真的舍不得这段情谊。

